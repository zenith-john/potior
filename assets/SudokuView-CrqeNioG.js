import{_ as z,c as u,o as a,a as f,t as m,F as v,r as d,n as C,b as k,d as g,e as b}from"./index-BLceM1wa.js";function y(s){const e=[];let t=[];for(let l=0;l<s.length;l++)t.push(s[l]),l%9==8&&(e.push(t),t=[]);return e}function S(){return"................................................................................."}const R={data(){return{puzzle:Array.from({length:9},()=>Array(9).fill({value:0,original:!1})),activeRow:-1,activeCol:-1,seconds:0,timer:0}},mounted(){this.generatePuzzle()},computed:{formattedTime(){const s=Math.floor(this.seconds/60),e=this.seconds%60;let t,l;return s<10?t=`0${s}`:t=`${s}`,e<10?l=`0${e}`:l=`${e}`,`${t}:${l}`},possibleValues(){const s=Array.from({length:9},()=>Array(9).fill([]));for(let e=0;e<9;e+=1)for(let t=0;t<9;t+=1)this.puzzle[e][t].value===0&&(s[e][t]=this.findPossible(e,t));return s}},methods:{generatePuzzle(){const s=S();this.puzzle=y(s).map(e=>e.map(t=>({value:t!=="."?parseInt(t):0,original:t!=="."}))),this.seconds=0,clearInterval(this.timer),this.timer=setInterval(()=>{this.seconds+=1},1e3)},setCellActive(s,e,t){if(!t){if(this.activeRow===s&&this.activeCol===e){this.activeRow=-1,this.activeCol=-1;return}this.activeRow=s,this.activeCol=e}},setCellValue(s){if(this.puzzle[this.activeRow][this.activeCol].value=s,this.activeRow=-1,this.activeCol=-1,this.isGameComplete()){const e=["Success!","",`Time: ${this.formattedTime}`];alert(e.join(`
`)),this.generatePuzzle()}},isCellInvalid(s,e,t){if(!t)return!0;for(let r=0;r<9;r+=1)if(this.puzzle[s][r].value===t&&r!==e)return!0;for(let r=0;r<9;r+=1)if(this.puzzle[r][e].value===t&&r!==s)return!0;const l=Math.floor(s/3)*3,o=Math.floor(e/3)*3;for(let r=l;r<l+3;r+=1)for(let i=o;i<o+3;i+=1)if(this.puzzle[r][i].value===t&&!(r===s&&i===e))return!0;return!1},isGameComplete(){for(let s=0;s<9;s+=1)for(let e=0;e<9;e+=1)if(this.isCellInvalid(s,e,this.puzzle[s][e].value))return!1;return!0},findPossible(s,e){let t=[1,2,3,4,5,6,7,8,9];for(let r=0;r<9;r+=1)r!=s&&(t=t.filter(i=>i!==this.puzzle[r][e].value)),r!=e&&(t=t.filter(i=>i!=this.puzzle[s][r].value));const l=Math.floor(s/3)*3,o=Math.floor(e/3)*3;for(let r=l;r<l+3;r+=1)for(let i=o;i<o+3;i+=1)r===s&&i===e||(t=t.filter(n=>n!=this.puzzle[r][i].value));return t}}},V={class:"sudoku"},A={class:"row"},M={class:"grid"},P=["onClick"],B={key:0},T={key:0},$={class:"row"},F=["disabled","onClick"];function G(s,e,t,l,o,r){return a(),u("div",V,[f("div",A,[e[0]||(e[0]=f("h2",null,"Sudoku",-1)),f("strong",null,m(r.formattedTime),1)]),f("div",M,[(a(!0),u(v,null,d(o.puzzle,(i,n)=>(a(),u("div",{class:"row",key:n},[(a(!0),u(v,null,d(i,(h,c)=>(a(),u("div",{class:C(["cell",{"border-right":c===2||c===5,"border-bottom":n===2||n===5,active:o.activeRow===n&&o.activeCol===c,invalid:h.value&&r.isCellInvalid(n,c,h.value)}]),key:c,onClick:_=>r.setCellActive(n,c,h.original)},[h.value!=0?(a(),u("p",B,m(h.value),1)):(a(),u(v,{key:1},d([0,1,2],_=>f("div",{class:"srow",key:_},[(a(),u(v,null,d([0,1,2],p=>f("div",{class:"scell",key:p},[_*3+p<r.possibleValues[n][c].length?(a(),u("p",T,m(r.possibleValues[n][c][_*3+p]),1)):k("",!0)])),64))])),64))],10,P))),128))]))),128))]),f("div",$,[(a(!0),u(v,null,d(Array(10).keys(),i=>(a(),u("button",{type:"button",class:"btn",key:i,disabled:o.activeRow===-1||o.activeCol===-1,onClick:n=>r.setCellValue(i)},m(i),9,F))),128))])])}const N=z(R,[["render",G],["__scopeId","data-v-8ed3b1b7"]]),w=g({__name:"SudokuView",setup(s){return(e,t)=>(a(),b(N))}});export{w as default};
