import{_ as d,c as u,o as a,a as l,g as m,f as h,w as p,v as f,F as c,r as g,t as b,d as w,e as _}from"./index-DRZBcckR.js";const y={data(){return{text:"",words:[],word_data:""}},mounted(){fetch("word_data.txt").then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.text()}).then(t=>{this.word_data=t,console.log("Word data loaded!")})},computed:{},methods:{parse(t){let e=/{[\s]*([a-z_*]*[0-4]?)([\s]+[\d]+)?[\s]*}/g,o=t.matchAll(e),n="",r="",i="";n+="^(";for(let s of o)n+=".",r+=this.convertPronouce(s[1]),i+=" "+this.convertNumber(s[2]);return n+=") "+r+i,n},convertPronouce(t){let e=t;return e!=""&&!e[t.length-1].match(/[0-4]/)&&(e+="[0-4]"),e=e.replace(/\*/g,".*"),e=e.replace(/_/g,"."),e},convertNumber(t){if(t==null||t.match(/[\s]+$/)!=null)return"[\\d]+";{let e=t.match(/[\d]+/);return e==null?"":e[0]}},searchWords(){let t=new RegExp(this.parse(this.text),"gm"),e=this.word_data.matchAll(t),o=[],n=0,r={};for(let i of e)if(!(i[1]in r)&&(o.push(i[1]),r[i[1]]=!0,n++,n>100))break;this.words=o}}},v={for:"text"};function x(t,e,o,n,r,i){return a(),u(c,null,[l("div",null,[e[2]||(e[2]=h(" Nutri for Chinese words (Version 0.1): ")),l("label",v,[p(l("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.text=s)},null,512),[[f,r.text]])]),l("button",{onClick:e[1]||(e[1]=(...s)=>i.searchWords&&i.searchWords(...s))},"search")]),l("div",null,[l("ul",null,[(a(!0),u(c,null,g(r.words,s=>(a(),u("li",null,b(s),1))),256))])]),e[3]||(e[3]=m('<div> Rules: <ul><li>Every character should be embraced by {}.</li><li>The general pronouciation is given by pinyin but the tone is given by number (0 for light tone). For example, “课” = ke4. You can use * to represent arbitrary number of characters and _ to represent one character.</li><li>The possible second field in braces suggest the strokes number of character.</li><li>Only first 100 results are shown</li></ul> Examples: <ul><li>{hun} {mi} =&gt; 昏迷</li><li>{yin} {d*4} =&gt; 印度 ...</li><li>{* 10} {* 12} {* 9} =&gt; 莫斯科 ...</li></ul></div><div> Acknowledgements: <ul><li>The Chinese character data (pronouciation and strokes) are from <a href="https://github.com/mapull/chinese-dictionary/">https://github.com/mapull/chinese-dictionary/</a>. (With some mistakes fixed) </li><li>The currently used word data are from <a href="https://github.com/rime/rime-pinyin-simp/blob/master/pinyin_simp.dict.yaml">https://github.com/rime/rime-pinyin-simp/blob/master/pinyin_simp.dict.yaml</a> containing 65120 words. </li></ul></div>',2))],64)}const k=d(y,[["render",x]]),F=w({__name:"ChineseView",setup(t){return(e,o)=>(a(),_(k))}});export{F as default};
